<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Reminder</title>
    <link rel="icon" type="image/svg+xml" href="assets/icon.svg">
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                    <div>
                        <div class="logo-container">
                            <img src="assets/icon.svg" alt="Task Reminder Logo" class="app-logo">
                            <h1>Task Reminder</h1>
                            <span class="version-badge">v1.1.2</span>
                        </div>
                        <p>Manage your tasks with custom alarms</p>
                    </div>
                <div class="header-actions">
                    <button id="settingsBtn" class="btn btn-secondary" title="Settings">
                        <i class="fas fa-cog"></i> Settings
                    </button>
                </div>
            </div>
        </header>

        
        <!-- Update Available Section -->
        <div id="updateAvailableSection" class="update-available-section" style="display: none;">
            <div class="update-notification-simple">
                <div class="update-info-simple">
                    <span class="update-version-simple" id="availableVersionText">v1.1.2</span>
                </div>
                <div class="update-actions-simple">
                    <button id="downloadUpdateBtn" class="btn btn-primary btn-small">
                        Update
                    </button>
                    <button id="dismissUpdateBtn" class="btn btn-secondary btn-small">
                        Later
                    </button>
                </div>
            </div>
        </div>
        

        <div class="add-task-section">
            <div class="add-task-form">
                <input type="text" id="taskTitle" placeholder="Enter task title..." required>
                <textarea id="taskDescription" placeholder="Enter task description (optional)"></textarea>
                
                <div class="alarm-section">
                    <label class="alarm-toggle">
                        <input type="checkbox" id="alarmEnabled">
                        <span class="checkmark"></span>
                        Set Alarm
                    </label>
                    
                    <div class="alarm-mode" id="alarmMode" style="display:none;">
                        <label>
                            <input type="radio" name="alarmMode" value="duration" checked>
                            By remaining time
                        </label>
                        <label style="margin-left: 15px;">
                            <input type="radio" name="alarmMode" value="datetime">
                            By date & time
                        </label>
                    </div>

                    <div class="alarm-inputs" id="alarmInputs">
                        <div class="time-input-group">
                            <label>Hours</label>
                            <input type="number" id="alarmHours" min="0" max="23" value="0">
                        </div>
                        <div class="time-input-group">
                            <label>Minutes</label>
                            <input type="number" id="alarmMinutes" min="0" max="59" value="0">
                        </div>
                        <div class="time-input-group">
                            <label>Seconds</label>
                            <input type="number" id="alarmSeconds" min="0" max="59" value="0">
                        </div>
                    </div>

                    <div class="datetime-inputs" id="datetimeInputs">
                        <div class="time-input-group">
                            <label>Date & Time</label>
                            <input type="datetime-local" id="alarmDateTime">
                        </div>
                    </div>
                </div>
                
                <button id="addTaskBtn" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Add Task
                </button>
            </div>
        </div>

        <div class="tasks-section">
            <div class="tasks-header">
                <h2>Your Tasks</h2>
                <div class="task-stats">
                    <span id="totalTasks">0</span> total, 
                    <span id="completedTasks">0</span> completed, 
                    <span id="pendingTasks">0</span> pending
                </div>
                <div>
                    <button id="clearAllBtn" class="btn btn-danger"><i class="fas fa-trash"></i> Clear All</button>
                </div>
            </div>
            
            <div class="tasks-container" id="tasksContainer">
                <!-- Tasks will be dynamically added here -->
            </div>
        </div>

        <!-- Alarm Modal -->
        <div id="alarmModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-bell"></i> Alarm Triggered!</h3>
                    <button class="close-btn" id="closeAlarmModal">&times;</button>
                </div>
                <div class="modal-body">
                    <p id="alarmMessage">Time's up for your task!</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="dismissAlarm">Dismiss</button>
                </div>
            </div>
        </div>

        <!-- Title Required Modal -->
        <div id="titleRequiredModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-exclamation-triangle"></i> Title Required</h3>
                    <button class="close-btn" id="closeTitleRequiredModal">&times;</button>
                </div>
                <div class="modal-body">
                    <p>Please enter a task title before adding the task.</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="dismissTitleRequired">OK</button>
                </div>
            </div>
        </div>

        <!-- Confirm Modal -->
        <div id="confirmModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-question-circle"></i> Confirm</h3>
                    <button class="close-btn" id="closeConfirmModal">&times;</button>
                </div>
                <div class="modal-body">
                    <p id="confirmMessage">Are you sure?</p>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="cancelConfirm">Cancel</button>
                    <button class="btn btn-primary" id="okConfirm">OK</button>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div id="settingsModal" class="modal">
            <div class="modal-content settings-modal">
                <div class="modal-header">
                    <h3><i class="fas fa-cog"></i> Settings</h3>
                    <button class="close-btn" id="closeSettingsModal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="settings-section">
                        <h4><i class="fas fa-palette"></i> Appearance</h4>
                        <div class="setting-item">
                            <label class="setting-label">
                                <span>Theme</span>
                                <select id="themeSelect" class="theme-select">
                                    <option value="light">Light</option>
                                    <option value="dark">Dark</option>
                                    <option value="star-citizen">Star Citizen</option>
                                </select>
                            </label>
                            <p class="setting-description">Choose your preferred theme and visual style</p>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">
                                <span>View Mode</span>
                                <select id="viewModeSelect" class="view-mode-select">
                                    <option value="normal">Normal</option>
                                    <option value="mini">Mini Mode</option>
                                </select>
                            </label>
                            <p class="setting-description">Choose between normal view or compact mini mode with smaller interface elements</p>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4><i class="fas fa-window-minimize"></i> Window Behavior</h4>
                        <div class="setting-item">
                            <label class="setting-label">
                                <span>Minimize to Tray</span>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="minimizeToTrayToggle" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </div>
                            </label>
                            <p class="setting-description">When enabled, minimizing the window will hide it to the system tray instead of the taskbar</p>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">
                                <span>Close to Tray</span>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="closeToTrayToggle" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </div>
                            </label>
                            <p class="setting-description">When enabled, closing the window will minimize to tray instead of exiting the app</p>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4><i class="fas fa-bell"></i> Sound & Notifications</h4>
                        <div class="setting-item">
                            <label class="setting-label">
                                <span>Enable Alarm Sound</span>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="soundEnabledToggle" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </div>
                            </label>
                            <p class="setting-description">Play a sound when task alarms trigger</p>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">
                                <span>Sound Volume</span>
                                <input type="range" id="soundVolumeSlider" class="volume-slider" min="0" max="1" step="0.1" value="0.7">
                            </label>
                            <p class="setting-description">Adjust the volume of alarm sounds (0 = silent, 1 = maximum)</p>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">
                                <span>Alarm Sound</span>
                                <select id="basicSoundSelect" class="sound-select">
                                    <option value="default">Default System Sound</option>
                                    <option value="sinking-island">Sinking Island</option>
                                    <option value="custom">Custom File...</option>
                                </select>
                            </label>
                            <p class="setting-description">Choose from built-in sounds or select a custom audio file</p>
                            <div style="margin-top: 10px;">
                                <button type="button" id="testSoundBtn" class="btn btn-secondary btn-small">
                                    <i class="fas fa-play"></i> Test Current Sound
                                </button>
                                <button type="button" id="stopAudioBtn" class="btn btn-danger btn-small" style="display: none; margin-left: 10px;">
                                    <i class="fas fa-stop"></i> Stop Audio
                                </button>
                            </div>
                            <div id="testSoundFeedback" class="test-sound-feedback" style="display: none; margin-top: 10px;">
                                <div class="test-sound-message" id="testSoundMessage">Preparing to play sound...</div>
                            </div>
                        </div>
                        <div class="setting-item" id="customSoundSection" style="display: none;">
                            <label class="setting-label">
                                <span>Custom Alarm Sound</span>
                                <div class="sound-file-picker">
                                    <input type="file" id="soundFileInput" accept="audio/*" style="display: none;">
                                    <button type="button" id="selectSoundBtn" class="btn btn-secondary btn-small">
                                        <i class="fas fa-music"></i> Choose File
                                    </button>
                                    <button type="button" id="resetSoundBtn" class="btn btn-danger btn-small">
                                        <i class="fas fa-undo"></i> Reset
                                    </button>
                                </div>
                            </label>
                            <p class="setting-description">Select a custom audio file for alarm sounds (MP3, WAV, OGG supported)</p>
                            <div id="selectedSoundInfo" class="sound-info" style="display: none;">
                                <span class="sound-filename"></span>
                                <span class="sound-duration"></span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4><i class="fas fa-sync-alt"></i> Updates</h4>
                        <div class="setting-item">
                            <label class="setting-label">
                                <span>Auto-Check for Updates</span>
                                <div class="toggle-switch">
                                    <input type="checkbox" id="autoUpdateToggle" class="toggle-input">
                                    <span class="toggle-slider"></span>
                                </div>
                            </label>
                            <p class="setting-description">When enabled, the app will automatically check for updates on startup and periodically</p>
                        </div>
                        <div class="setting-item">
                            <label class="setting-label">
                                <span>Manual Update Check</span>
                                <button id="checkUpdatesBtn" class="btn btn-secondary btn-small">
                                    <i class="fas fa-sync-alt"></i> Check for Updates
                                </button>
                            </label>
                            <p class="setting-description">Manually check for available updates right now</p>
                        </div>
                    </div>
                    
                    <div class="settings-section">
                        <h4><i class="fas fa-info-circle"></i> About</h4>
                        <div class="setting-item">
                            <div class="about-info">
                                <p><strong>Task Reminder</strong> v1.1.2</p>
                                <p>Manage your tasks with custom alarms</p>
                                <p>Developed by A Moussa</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="saveSettings">Save Settings</button>
                    <button class="btn btn-secondary" id="cancelSettings">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
<footer class="app-footer">
    <div class="footer-content">
        <a href="https://github.com/AMoussa77?tab=repositories" target="_blank" rel="noopener noreferrer" class="credit-link">
            <i class="fab fa-github"></i>
            <span>"Task Reminder" - Developed by A Moussa</span>
        </a>
    </div>
</footer>
</html>


